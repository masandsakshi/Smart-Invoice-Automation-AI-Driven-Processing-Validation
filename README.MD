# Python Agent Framework for Invoice Processing

This project is a **multi-agent system** designed to automate invoice processing using AI.  
It extracts invoice details, validates them, detects fraud, notifies vendors/finance teams, and updates ERP systems.

---

## **ðŸš€ Features**
âœ… **Invoice Data Extraction** â†’ Uses **Gemini AI** to extract invoice details from images.  
âœ… **Validation & Fraud Detection** â†’ Checks for **duplicate invoices, missing fields, tax mismatches,** etc.  
âœ… **Automated Notifications** â†’ Vendors & finance teams are alerted when necessary.  
âœ… **ERP Integration (Simulated)** â†’ Updates invoice status & triggers payments.  
âœ… **Database Storage** â†’ Uses **SQLite** to store invoices securely.  
âœ… **Multi-Agent Orchestration** â†’ Uses **CrewAI** to coordinate agent execution.  
âœ… **Docker Support** â†’ Containerized for easy deployment.  

---

## Prerequisites
### Install Docker or alternative

[Rancher Desktop](https://rancherdesktop.io/)

### API Keys
This project requires API Keys for the following services for which you will need to create accounts.

Create a .env file to store these keys
```plaintext
JUPYTER_TOKEN
OPENAI_API_KEY
LANGCHAIN_API_KEY
ANTHROPIC_API_KEY
HUGGINFACE_TOKEN
GOOGLE_API_KEY
```

### Starting the container
To start the container, run:

```sh
docker compose up
```

### Stoping the container
```sh
docker compose down
```

enter the container using the command: docker exec -it <container_id> /bin/sh

### To run the app
```sh
python src/python_agent_framework/main.py
```
### PATH to the testing images:
```sh
/code/src/python_agent_framework/data/image_2.jpg
``` 

## **ðŸ“‚ Project Structure**
```plaintext
python_agent_framework/
â”‚â”€â”€ components/                      # Core framework components
â”‚   â”‚â”€â”€ agents/                       # AI Agents 
â”‚   â”‚   â”‚â”€â”€ __init__.py                # Registers all agents
â”‚   â”‚   â”‚â”€â”€ document_processor.py      # Extracts & structures invoice data
â”‚   â”‚   â”‚â”€â”€ data_analysis.py           # Validates invoices, detects fraud
â”‚   â”‚   â”‚â”€â”€ customer_interaction.py    # Notifies vendors & finance teams
â”‚   â”‚   â”‚â”€â”€ task_execution.py          # Updates ERP, flags fraud, triggers payments
â”‚   â”‚â”€â”€ connections/                    # Database & API connections
â”‚   â”‚   â”‚â”€â”€ __init__.py                 # Registers connections
â”‚   â”‚   â”‚â”€â”€ database.py                 # SQLite database management
â”‚â”€â”€ core/                              # Core framework component base classes
â”‚   â”‚â”€â”€ agent_flow.py                   # Governs agent behavior pattern (e.g., ReAct)
â”‚   â”‚â”€â”€ agent.py                        # Agent base class
â”‚   â”‚â”€â”€ connection.py                    # LLM connection configuration
â”‚   â”‚â”€â”€ memory.py                        # Basic memory implementation
â”‚   â”‚â”€â”€ tool_manager.py                  # Manages tool execution
â”‚   â”‚â”€â”€ tool.py                          # Tool base class
â”‚â”€â”€ data/                              # Sample invoice images
â”‚   â”‚â”€â”€ image_1.jpg                     # Sample invoice image 1
â”‚   â”‚â”€â”€ image_2.jpg                     # Sample invoice image 2
|   |â”€â”€ image_3.jpg                     # Sample invoice image 3
â”‚â”€â”€ llm/                               # LLM Helpers
â”‚   â”‚â”€â”€ chat_completion.py               # OpenAI / Gemini Chat model calls
â”‚â”€â”€ utilities/                          # Helper scripts
â”‚   â”‚â”€â”€ pretty_print_conversation.py     # Prints structured conversation logs
â”‚â”€â”€ main.py                            # Main entry point for the AI workflow
â”‚â”€â”€ Dockerfile                         # Docker container configuration
â”‚â”€â”€ requirements.txt                    # Python dependencies
â”‚â”€â”€ .env                                # Environment variables (API Keys)
â”‚â”€â”€ README.md                           # Documentation
